#![warn(clippy::and_then_then_some)]

fn main() {
	let x = Some("foo".to_string());

    let _y = x.clone().filter(|v| v.starts_with('f'));

	let ts = bool::then_some;
	// even if the function is renamed, it should still fire
	let _z = x.clone().and_then(|v| (ts(v.starts_with('f'), v)));
	// even if it's called as an associated method with a block body
	/*let _w = Option::and_then(x, |v: String| {
		bool::then_some(v.starts_with('f'), v)
	});*/
}
