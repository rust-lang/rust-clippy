#![warn(clippy::unused_async_trait_impl)]

trait HasAsyncMethod {
    async fn do_something() -> u32;
}

struct Inefficient;
struct Efficient;

impl HasAsyncMethod for Inefficient {
     fn do_something() -> impl Future<Output = u32> { core::future::ready({
        //~^ unused_async_trait_impl
        1
    }) }
}

impl HasAsyncMethod for Efficient {
    fn do_something() -> impl Future<Output = u32> {
        core::future::ready(1)
    }
}

fn main() {
    Inefficient::do_something();
    Efficient::do_something();
}
