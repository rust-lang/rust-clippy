// run-rustfix

#![warn(clippy::bool_to_int_with_if)]
#![allow(unused, dead_code, clippy::unnecessary_operation, clippy::no_effect)]

fn main() {
    let a = true;
    let b = false;

    let x = 1;
    let y = 2;

    // Should lint
    // precedence
    a as i32;
    !a as i32;
    (a || b) as i32;
    cond(a, b) as i32;
    (x + y < 4) as i32;

    // Shouldn't lint
    if a {
        3
    } else {
        0
    };
    if a {
        side_effect();
        1
    } else {
        0
    };

    some_fn(a);
}

// Lint returns and type inference
fn some_fn(a: bool) -> u8 {
    a as u8
}

fn side_effect() {}

fn cond(a: bool, b: bool) -> bool {
    a || b
}
